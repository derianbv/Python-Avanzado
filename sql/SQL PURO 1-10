

https://www.hackerrank.com/challenges/revising-the-select-query/problem?isFullScreen=true


#Explicación sencilla de un SQL: ------------------------------------------------------------------------------------------------------------------------------------- 


El SQL que vamos a explicar viene de un ejemplo de una app de DJANGO : 

"SELECT channel, direction, COUNT(channel) as count FROM app_interactions GROUP BY channel, direction;"


**** Paso *****: 

0. Todo lo que hace el procesador de consultas de la base de datos lo hace en la memoria RAM, no cambia las estructuras internas mientras procesa: 

Así se físicamente en una base de datos. 

ID,channel,direction
1,Email,Entrante
2,SMS,Saliente
3,Email,Entrante
4,SMS,Saliente

1. FROM app_interactions: 
El procesador copia los datos que encuentra físicamente en la memoria RAM, este es el primer paso en una instrucción SQL así se escriba al final. 

2. GROUP BY channel, direction:

El procesador agrupa las instancias que sean similares,lit las colapsa en una sola y tiene la cuenta de las que colapsó 

ID,channel,direction
1,Email,Entrante
2,SMS,Saliente
3,Email,Entrante
4,SMS,Saliente

PASA A ESTA TABLA EN MEMORIA RAM: 
channel,direction, COUNT 
Email,Entrante, 2
SMS,Saliente, 2 


Lo hace usando un hash con key de la combinacion tupla (channel, direction), ---> valor, si no esta entonces crea un bucket o lista para guardarlo (Excato como los ejercicos de CP), si esta entonces lo agrega a la lista. Cuando hago count entonces basicamente miro el len() del arregloo de cada grupo. 

3. Finalmente le digo que me muestre con SELECT, select es decir, muestrame. 
SELECT channel, direction, COUNT(channel) 






------------------------------------------ HACKER RANK SQL -------------------------------------------------------------------------------

1. SELECT * FROM CITY WHERE COUNTRYCODE = 'USA' AND POPULATION >  100000; 


2. 

SELECT NAME 
FROM CITY
WHERE POPULATION > 120000 AND COUNTRYCODE = 'USA';  


3. 
SELECT * 
FROM CITY

4. 
SELECT * 
FROM CITY
WHERE ID = 1661

5.
SELECT * 
FROM CITY 
WHERE COUNTRYCODE = 'JPN'; 

6. 
SELECT CITY, STATE  
FROM STATION; 

7. 
SELECT DISTINCT CITY 
FROM STATION 
WHERE ID % 2 = 0; 

8. 
SELECT COUNT(CITY) - count(DISTINCT CITY) AS diferencia
FROM STATION



9.  Weather Observation Station 5

SELECT CITY, CHAR_LENGTH(CITY)
FROM STATION 
ORDER BY CHAR_LENGTH(CITY), CITY ASC  LIMIT 1; 

SELECT CITY, CHAR_LENGTH(CITY)
FROM STATION 
ORDER BY CHAR_LENGTH(CITY) DESC, CITY ASC   LIMIT 1; 

